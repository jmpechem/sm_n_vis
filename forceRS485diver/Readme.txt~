
Compile driver : make 

Install driver : insmod xr17v35x.ko

Uninstall driver : rmmod xr17v35x.ko

The follwing code is included in "static int serialxr_startup(struct uart_port *port)" function to enable auto RS485 mode. 

/*Enables Auto RS485 mode for all ports 
	 *This Part of code enables Auto RS485 mode permanantly for all ports
	 */

	value = 0 ;
	value=serial_in(up,0x08);
	value |=1<<5;
	serial_out(up, 0x08,value );

	value=serial_in(up,0x03);
	value |=1<<7;
	serial_out(up, 0x03,value );

	value=serial_in(up,0x02);
	value |=1<<7;
	serial_out(up, 0x02,value );

	value=serial_in(up,0x03);
	value &=~(1<<7);
	serial_out(up, 0x03,value );

	/*Enabling Auto RS485 mode code ends here
	 */


The following code is modified in "static int serialxr_startup(struct uart_port *port)" function to xenomai driver system. (highspeed baudrate control)


